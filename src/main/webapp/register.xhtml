<!DOCTYPE html>
<html xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html">
<h:head>
	<title>FeedbackPost</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<h:outputStylesheet name="css/bootstrap.css" />
	<h:outputStylesheet name="css/style.css" />
</h:head>
<h:body>
	<f:view>
		<h:form class="form-horizontal">
			<nav class="navbar navbar-default">
				<div class="navbar-header">
					<h:link class="navbar-brand" value="Home" outcome="home"
							rendered="#{not authMb.logged}"/>
				</div>
				<div class="navbar-header">
					<h:link class="navbar-brand" value="Log in" outcome="login"
							rendered="#{not authMb.logged}"/>
				</div>
				<div class="navbar-header">
					<h:commandLink class="navbar-brand" value="Log out"
								   action="#{authMb.logout()}" rendered="#{authMb.logged}" />
				</div>
			</nav>
			<div class="row" style="display: inline-block;">
				<h1>User Registry</h1>
				<div class="form-group">
					<label class="control-label col-sm-2">User</label>
					<div class="col-sm-10">
						<h:inputText id="name" value="#{registerMb.username}"
							autocomplete="off" class="form-control info"
							placeholder="Enter your user" >
							<f:ajax event="blur" listener="#{registerMb.validateUsername()}" render="usernameError"/>
						</h:inputText>
						<h:outputText id="usernameError" value="#{registerMb.usernameErrorMsg}" />

					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-sm-2">Mail</label>
					<div class="col-sm-10">
						<h:inputText id="mail" value="#{registerMb.mail}" autocomplete="off" class="form-control" placeholder="Enter your mail">
							<f:ajax event="keyup" listener="#{registerMb.validateMail()}" render="mailError"/>
						</h:inputText>
						<h:outputText id="mailError" value="#{registerMb.mailErrorMsg}" />
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-sm-2">Pass</label>
					<div class="col-sm-10">
						<h:inputSecret value="#{registerMb.password}" autocomplete="off"
									   class="form-control" placeholder="Enter your password" />
					</div>
				</div>
				<div>
					<h:commandButton value="Register now"
									 styleClass="btn btn-primary btn-lg"
									 action="#{registerMb.register}" style="position:relative;"/>
				</div>
			</div>
		</h:form>
	</f:view>
</h:body>
</html>