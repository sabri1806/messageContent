<!DOCTYPE html>
<html xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:h="http://java.sun.com/jsf/html">
<h:head>
	<title>FeedbackPost</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<h:outputStylesheet name="css/bootstrap.css" />
	<h:outputStylesheet name="css/bootstrap.css.map" />
	<h:outputStylesheet name="css/style.css" />

</h:head>
<h:body>
	<h:form>
		<nav class="navbar navbar-default">
			<div class="navbar-header">
				<h:link class="navbar-brand" value="Log in" outcome="login"
					rendered="#{not authMb.logged}"/>
			</div>
			<div class="navbar-header">
				<h:link class="navbar-brand" value="Register" outcome="register"
					rendered="#{not authMb.logged}"/>
			</div>
			<div class="navbar-header">
				<h:commandLink class="navbar-brand" value="Log out"
					action="#{authMb.logout}" rendered="#{authMb.logged}" />
			</div>
		</nav>
	</h:form>
	<div class="container">
		<h1 class="title">
			Welcome
			<h:outputText value="#{authMb.currentUser.username}" />
		</h1>
		<h2>You can see and save all your post</h2>
		<div class="row">
			<div class="col-md-8">
				<h:dataTable value="#{homeMb.posts}" var="post">
					<h:column>#{post.userName}</h:column>
					<h:column>#{post.message}</h:column>
					<h:column>#{post.date}</h:column>
				</h:dataTable>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<h:form>
					<div class="form-group">
						<label class="control-label col-sm-2">Enter your post</label>
						<div clas="col-sm-10">
							<h:inputTextarea id="post" class="form-control" rows="3" placeholder="Enter your post here"
								value="#{homeMb.message}">
								<f:ajax event="blur" listener="#{homeMb.validatePost()}"
									render="postError" />
							</h:inputTextarea>
							<h:outputText id="postError" value="#{homeMb.postErrorMsg}" />
						</div>
					</div>
					<div class="next-button">
						<h:commandButton value="Send post" styleClass="btn btn-info"
							action="#{homeMb.savePost}" />
					</div>
				</h:form>
			</div>
		</div>
	</div>
</h:body>
</html>